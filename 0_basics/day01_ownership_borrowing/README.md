# 🦀 День 1 — Владение, Заимствование и Срезы в Rust

> 🎯 Цель: понять, как Rust управляет памятью без GC и обеспечивает безопасность на уровне компиляции.

---

## 📘 Основные темы
- Владение (`ownership`)
- Заимствование (`borrowing`)
- Изменяемые ссылки (`&mut`)
- Срезы (`slices`)
- Отличие `String` и `&str`
- RAII и освобождение ресурсов

---

## 🧩 1. Владение (Ownership)

### Визуализация

```
+-----------+        +----------------------+
| s1        | -----> | "hi" в heap-памяти  |
+-----------+        +----------------------+
        |
        | (move)
        v
+-----------+        +----------------------+
| s2        | -----> | "hi" в heap-памяти  |
+-----------+        +----------------------+

s1 -> ❌ недействителен (владение передано)
```


## 🧩 2. Заимствование (Borrowing)

### Визуализация
```text
+-----------+        +----------------------+
| s1        | -----> | "hi" в heap-памяти  |
+-----------+        +----------------------+
|
| (borrow)
v
+-----------+
| s (ref)   | ----> borrow (не владеет)
+-----------+
```

## 🧩 3. Изменяемое заимствование

### Визуализация
+-----------+        +---------------------------+
| s (mut)   | -----> | "hi" в heap-памяти        |
+-----------+        +---------------------------+
|
| (mut borrow)
v
+---------------+
| s_ref (&mut)  | ----> изменяет данные напрямую
+---------------+

## 🧩 4. Срезы (&[T] и &str)

```text
Memory: [h][e][l][l][o][ ][w][o][r][l][d]
Slice:  [h][e][l][l][o]
```

## 🧩 5. Мини-проект — Счётчик слов

```text
          ┌──────────────────────────────┐
          │        Rust Memory Model     │
          └──────────────────────────────┘
                        │
                        ▼
              ┌────────────────┐
              │   Владение     │
              └────────────────┘
                        │ (move)
                        ▼
              ┌────────────────┐
              │  Заимствование  │
              ├────────────────┤
              │ &T  → чтение   │
              │ &mut T → запись│
              └────────────────┘
                        │
                        ▼
              ┌────────────────┐
              │    Срезы       │
              ├────────────────┤
              │ &str, &[T]     │
              │ не владеют     │
              └────────────────┘
```

## 🧭 Краткая таблица
| Концепт        | Ключевая идея                    | Пример                    |
|----------------|----------------------------------|---------------------------|
| Ownership      | Один владелец данных             | let s2 = s1;              |
| Borrowing      | Временный доступ без владения    | fn f(x: &T)               |
| Mut Borrow     | Изменяемая ссылка                | &mut T                    |
| Slices         | Подмножество данных без владения | &str, &[T]                |
| RAII           | Ресурсы освобождаются при drop   | File, Vec, String         |
| String vs &str | Владение vs ссылка               | "abc".to_string() и "abc" |